webpackJsonp([18],{"2P8z":function(e,t){},SfW9:function(e,t){},ZkMJ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"UserPage",data:function(){return{defaultAvatar:this.$config.getDefaultAvatar(),defaultBackground:this.$config.getDefaultBackground(),user:this.$store.state.userInfo,activeName:"user",userMenu:[{title:"账户中心",url:"/accountCenter"},{title:"个人信息",url:"/userCenter"}],courseMenu:[{title:"我的课程",url:"/courseCenter"},{title:"最近学习",url:"/recentLearned"}],orderMenu:[{title:"我的订单",url:"/orderCenter"},{title:"我的花卷币",url:"/breadRollGold"},{title:"我的特训班",url:"/mySpecial"}],messageMenu:[{title:"系统消息",url:"/systemMessage"},{title:"我的消息",url:"/personalMessage"}],active:{user:0,course:0,order:0,message:0}}},watch:{$route:{handler:function(e){this.selected(e.path)},deep:!0}},methods:{selected:function(e){switch(e){case"/accountCenter":this.activeName="user",this.active.user=0;break;case"/userCenter":this.activeName="user",this.active.user=1;break;case"/orderCenter":this.activeName="order",this.active.order=0;break;case"/breadRollGold":this.activeName="order",this.active.order=1;break;case"/mySpecial":this.activeName="order",this.active.order=2;break;case"/courseCenter":this.activeName="course",this.active.course=0;break;case"/recentLearned":this.activeName="course",this.active.course=1;break;case"/systemMessage":this.activeName="message",this.active.message=0;break;case"/personalMessage":this.activeName="message",this.active.message=1}},handleClick:function(e){switch(parseInt(e.index)){case 0:this.active.user=0,this.$router.push(this.userMenu[0].url);break;case 1:this.active.course=0,this.$router.push(this.courseMenu[0].url);break;case 2:this.active.message=0,this.$router.push(this.messageMenu[0].url);break;case 3:this.active.order=0,this.$router.push(this.orderMenu[0].url)}},userClick:function(e,t){this.active.user=e,this.$router.push(t)},courseClick:function(e,t){this.active.course=e,this.$router.push(t)},messageClick:function(e,t){this.active.message=e,this.$router.push(t)},orderClick:function(e,t){this.active.order=e,this.$router.push(t)},userAvatarSuccess:function(e){this.user.avatarUrl=e.data.url,this.$store.commit("saveUserInfo",this.user),this.$message.success("上传成功")},userBackgroundSuccess:function(e){this.user.backgroundUrl=e.data.url,this.$store.commit("saveUserInfo",this.user),this.$message.success("上传成功")}},mounted:function(){this.selected(this.$route.path)},computed:{userName:function(){return this.$store.state.userInfo.userName},userAccount:function(){return this.$store.state.userInfo.userAccount},userAvatar:function(){return this.$config.getBaseUrl()+this.$store.state.userInfo.avatarUrl},background:function(){if(null!==this.$store.state.userInfo.backgroundUrl)return"background-image:url("+this.$config.getBaseUrl()+this.$store.state.userInfo.backgroundUrl+"),url("+this.defaultBackground+")"},userGender:function(){return this.$store.state.userInfo.userGender},description:function(){return this.$store.state.userInfo.description}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-page"},[s("div",{staticClass:"user-container"},[s("div",{staticClass:"user-box",style:e.background},[s("el-upload",{staticStyle:{display:"inline-block"},attrs:{"on-success":e.userBackgroundSuccess,"show-file-list":!1,"before-upload":this.$tools.beforePictureUpload,headers:this.$tools.getMyHeaders(),action:this.$userApi.uploadBackground()}},[s("el-button",{staticClass:"upload-background",attrs:{plain:"",size:"small",icon:"el-icon-camera"}},[e._v("背景图片 ")])],1),e._v(" "),s("div",{staticClass:"user-info"},[s("el-avatar",{staticClass:"avatar",attrs:{slot:"reference",size:80,src:e.userAvatar},slot:"reference"},[s("img",{attrs:{src:e.defaultAvatar,alt:"默认头像"}})]),e._v(" "),s("el-upload",{staticStyle:{display:"inline-block"},attrs:{"on-success":e.userAvatarSuccess,"show-file-list":!1,"before-upload":this.$tools.beforePictureUpload,headers:this.$tools.getMyHeaders(),action:this.$userApi.uploadAvatar()}},[s("div",{staticClass:"over-avatar"},[e._v("更换头像")])]),e._v(" "),s("div",{staticClass:"user-name"},[s("h2",{staticStyle:{"margin-right":"10px","vertical-align":"middle"},domProps:{textContent:e._s(e.userName)}}),e._v(" "),e.userGender?s("div",{staticClass:"gender",class:["男"===e.userGender?"man":"woman"]},["男"===e.userGender?s("i",{staticClass:"el-icon-male"}):s("i",{staticClass:"el-icon-female"})]):e._e()]),e._v(" "),s("p",{staticClass:"description"},[e._v(e._s(e.description))])],1)],1),e._v(" "),s("div",{staticClass:"user-center"},[s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"个人中心",name:"user"}},[s("div",{staticClass:"set-box"},[s("ul",e._l(e.userMenu,function(t,a){return s("li",{key:a,class:[e.active.user===a?"li-active":""],on:{click:function(s){return e.userClick(a,t.url)}}},[e._v(e._s(t.title))])}),0),e._v(" "),s("div",{staticClass:"data"},[s("router-view")],1)])]),e._v(" "),s("el-tab-pane",{attrs:{label:"学习中心",name:"course"}},[s("div",{staticClass:"set-box"},[s("ul",e._l(e.courseMenu,function(t,a){return s("li",{key:a,class:[e.active.course===a?"li-active":""],on:{click:function(s){return e.courseClick(a,t.url)}}},[e._v(e._s(t.title))])}),0),e._v(" "),s("div",{staticClass:"data"},[s("router-view")],1)])]),e._v(" "),s("el-tab-pane",{attrs:{label:"消息中心",name:"message"}},[s("div",{staticClass:"set-box"},[s("ul",e._l(e.messageMenu,function(t,a){return s("li",{key:a,class:[e.active.message===a?"li-active":""],on:{click:function(s){return e.messageClick(a,t.url)}}},[e._v(e._s(t.title))])}),0),e._v(" "),s("div",{staticClass:"data"},[s("router-view")],1)])]),e._v(" "),s("el-tab-pane",{attrs:{label:"订单中心",name:"order"}},[s("div",{staticClass:"set-box"},[s("ul",e._l(e.orderMenu,function(t,a){return s("li",{key:a,class:[e.active.order===a?"li-active":""],on:{click:function(s){return e.orderClick(a,t.url)}}},[e._v(e._s(t.title))])}),0),e._v(" "),s("div",{staticClass:"data"},[s("router-view")],1)])])],1)],1)])])},staticRenderFns:[]};var i=s("VU/8")(a,r,!1,function(e){s("SfW9"),s("2P8z")},"data-v-2b689994",null);t.default=i.exports}});
//# sourceMappingURL=18.d685895f1fd220818c87.js.map