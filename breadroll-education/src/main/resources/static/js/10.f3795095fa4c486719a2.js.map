{"version":3,"sources":["webpack:///src/components/main/CourseDetail.vue","webpack:///./src/components/main/CourseDetail.vue?724c","webpack:///./src/components/main/CourseDetail.vue","webpack:///./src/assets/global/nurse.png"],"names":["CourseDetail","name","data","logoImg","__webpack_require__","locked","isVip","currentInfo","userId","courseId","listId","playTime","courseSize","recommendCourse","active","teacher","course","courseList","playRecord","recordFlag","playerOptions","playbackRates","autoplay","muted","loop","preload","language","aspectRatio","fluid","sources","type","src","poster","notSupportedMessage","controlBar","timeDivider","durationDisplay","remainingTimeDisplay","fullscreenToggle","methods","onPlayerEnded","player","this","length","$alert","confirmButtonText","list","lockState","videoUrl","onPlayerTimeupdate","cache_","currentTime","playerReadied","watch","reqInfo","playCourse","index","randomCourse","count","_this","$courseApi","queryCourseByRandom","then","res","refresh","openVip","$router","push","id","_this2","queryCourseInfoById","coverUrl","autoPlay","url","timeLength","i","listName","closeJump","getStudyRecord","_this3","$userApi","getPlayRecord","that","setTimeout","joinCourse","_this4","$store","state","userInfo","deleteState","addUserCourse","$message","success","message","mounted","_this5","window","onbeforeunload","addPlayRecord","created","$route","query","vipInfo","$cookie","getToken","beforeDestroy","main_CourseDetail","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","width","height","position","left","attrs","_v","top","round","on","click","ref","playsinline","options","ready","ended","$event","timeupdate","font-size","margin","vertical-align","icon","_s","_e","courseName","direction","_f","courseTime","_l","item","key","class","timeMinute","timeSecond","value","label","description","size","avatarUrl","teacherName","float","margin-top","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/10.f3795095fa4c486719a2.js","sourcesContent":["<template>\n  <div class=\"course-detail\">\n    <div class=\"course-container\">\n      <div class=\"course-player\">\n        <div class=\"player-container\" v-if=\"course!=null\">\n          <div class=\"locked\" v-if=\"locked\">\n            <h2>\n              <el-image style=\"width: 100px;height: 100px;position: absolute;left: 240px\" :src=\"logoImg\"></el-image>\n              <span style=\"position: absolute;top: 50px;left: 350px;\">开通VIP，即可解锁全部章节</span>\n            </h2>\n            <el-button type=\"primary\" round @click=\"openVip\">VIP免费看</el-button>\n          </div>\n          <video-player v-else ref=\"videoPlayer\" :playsinline=\"true\" style=\"width: 100%;height: 100%;\"\n                        :options=\"playerOptions\" @ready=\"playerReadied\" @ended=\"onPlayerEnded($event)\" @timeupdate = \"onPlayerTimeupdate($event)\">\n            您的浏览器不支持视频播放。\n          </video-player>\n          <div class=\"jump-play\" v-if=\"playRecord!=null\">\n            <el-button type=\"text\" icon=\"el-icon-close\" style=\"font-size: 20px;margin:-2px 0 0 12px;vertical-align: middle\" @click=\"closeJump\"></el-button>\n            <span>上次看到 {{playRecord.listName}}</span>\n            <el-button type=\"text\" @click=\"autoPlay\" style=\"margin: 0 14px;\">跳转播放</el-button>\n          </div>\n        </div>\n        <div class=\"course-list\">\n          <div class=\"header\">\n            <p class=\"title\">{{course.courseName}}</p>\n            <p class=\"desc\">\n              <span>共{{courseList.length}}节</span> <el-divider direction=\"vertical\"></el-divider>\n              <span>时长{{course.courseTime | changeHourMin}}</span> <el-divider direction=\"vertical\"></el-divider>\n              <span v-if=\"course.vipState\">VIP课程</span>\n              <span v-else>免费课程</span>\n            </p>\n          </div>\n          <ul class=\"list-menu\">\n            <li v-for=\"(item,index) in courseList\" :key=\"index\" @click=\"playCourse(item,index)\" :class=\"[active === index ? 'is-active':'']\">\n              <i class=\"el-icon-video-play play-icon\"></i>\n              <span class=\"list-name\">{{item.listName}}</span>\n              <span class=\"time\">时长 {{item.timeMinute | timeFormate}}:{{item.timeSecond | timeFormate}}</span>\n              <i v-if=\"item.lockState && !isVip\" class=\"el-icon-lock lock\"></i>\n            </li>\n          </ul>\n          <div class=\"course-operate\" v-if=\"this.$store.state.userInfo && this.$store.state.userInfo.userId\">\n            <el-button type=\"primary\" round @click=\"joinCourse\">加入课程</el-button>\n          </div>\n        </div>\n      </div>\n      <div class=\"course-box\">\n        <div class=\"course-info\">\n          <el-tabs value=\"first\">\n            <el-tab-pane label=\"课程简述\" name=\"first\">\n              <p class=\"title\">课程简介</p>\n              <p class=\"desc\">{{course.description}}</p>\n              <p class=\"title\">讲师介绍</p>\n              <div class=\"teacher-data\">\n                <div class=\"header\">\n                  <el-avatar class=\"avatar\" :size=\"40\" :src=\"teacher.avatarUrl\"></el-avatar>\n                  <span class=\"teacher-name\">{{teacher.teacherName}}</span>\n                </div>\n                <div class=\"content\">{{teacher.description}}</div>\n              </div>\n            </el-tab-pane>\n          </el-tabs>\n        </div>\n        <div class=\"recommend\">\n          <div class=\"title\">为你推荐\n            <el-button type=\"text\" style=\"float: right;margin-top: 5px\" icon=\"el-icon-refresh\" @click=\"refresh\">换一批</el-button>\n          </div>\n          <ul class=\"content\">\n            <li v-for=\"(course,index) in recommendCourse\" :key=\"index\" @click=\"watch(course)\">\n              <el-image :src=\"course.coverUrl\"></el-image>\n              <p class=\"course-name\">{{course.courseName}}</p>\n              <span class=\"time\">{{course.courseTime | changeHourMin}}</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"CourseDetail\",\n    data() {\n      return{\n        logoImg:require(\"../../assets/global/nurse.png\"),\n        locked:true,\n        isVip:false,\n        currentInfo:{\n          userId:null,\n          courseId:0,\n          listId:0,\n          playTime:0,\n        },\n        courseSize:0,\n        recommendCourse:null,\n        active:0,\n        teacher: {},\n        course: {},\n        courseList: [],\n        playRecord:null,\n        recordFlag:false,\n        playerOptions: {\n          playbackRates: [0.5, 1.0, 1.5, 2.0], //可选择的播放速度\n          autoplay: false, //如果true,浏览器准备好时开始回放。\n          muted: false, // 默认情况下将会消除任何音频。\n          loop: false, // 视频一结束就重新开始。\n          preload: 'auto', // 建议浏览器在<video>加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）\n          language: 'zh-CN',\n          aspectRatio: '16:9', // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\n          fluid: true, // 当true时，Video.js player将拥有流体大小。换句话说，它将按比例缩放以适应其容器。\n          sources: [{type: \"video/mp4\", src: \"http://localhost:9000/upload/course/HTML5+CSS3%E9%9B%B6%E5%9F%BA%E7%A1%80%E7%89%B9%E8%AE%AD%E7%8F%AD/16204635255731.1.mp4\"}],\n          poster: \"\", //你的封面地址\n          notSupportedMessage: '此视频暂无法播放，请稍后再试', //允许覆盖Video.js无法播放媒体源时显示的默认信息。\n          controlBar: {\n            timeDivider: true,//当前时间和持续时间的分隔符\n            durationDisplay: true,//显示持续时间\n            remainingTimeDisplay: true,//是否显示剩余时间功能\n            fullscreenToggle: true  //全屏按钮\n          }\n        }\n      }\n    },\n    methods:{\n      /*视频播放完成*/\n      onPlayerEnded(player) {\n         if(++this.active>=this.courseList.length){\n           this.$alert('恭喜您，课程观看完成！完结、撒花！', '观看完成', {\n             confirmButtonText: '确定',\n             type: 'success'\n           });\n         }else{\n           let list = this.courseList[this.active];\n           this.currentInfo.listId = list.listId;\n           this.locked=list.lockState && !this.isVip;\n           this.playerOptions.sources[0].src=list.videoUrl;\n           this.currentInfo.playTime = 0;\n           this.playerOptions.autoplay=true;\n         }\n      },\n      /* 获取视频播放进度 */\n      onPlayerTimeupdate (player) {\n        this.currentInfo.playTime = player.cache_.currentTime;\n      },\n      /* 设置视频进度 */\n      playerReadied (player) {\n        player.currentTime(this.currentInfo.playTime);\n      },\n      watch(course){\n        this.reqInfo(course.courseId);\n      },\n      //播放课程\n      playCourse(list,index){\n        this.active=index;\n        this.currentInfo.listId = list.listId;\n        this.locked=list.lockState && !this.isVip;\n        this.playerOptions.sources[0].src=list.videoUrl;\n        this.currentInfo.playTime = 0;\n        this.playerOptions.autoplay=true;\n      },\n      //获取随机课程\n      randomCourse(count){\n        this.$courseApi.queryCourseByRandom(count).then(res=>{\n          this.recommendCourse=res.data;\n        });\n      },\n      refresh(){\n        this.randomCourse(3);\n      },\n      //开通VIP页面\n      openVip(){\n        this.$router.push(\"/memberDetails\");\n      },\n      reqInfo(id){\n        this.$courseApi.queryCourseInfoById(id).then(res=>{\n          if(res.data===null || res.data.course===null){\n            this.$router.push(\"/notCourse\")\n          }\n          this.teacher = res.data.teacher;\n          this.course = res.data.course;\n          this.locked=this.course.lockState;\n          this.courseList = res.data.courseList;\n          this.courseSize = this.courseList.length;\n          this.playerOptions.poster=this.course.coverUrl;\n          this.currentInfo.listId=this.courseList[0].listId;\n          this.playerOptions.sources[0].src=this.courseList[0].videoUrl;\n        });\n      },\n      autoPlay(){\n        this.playerOptions.sources[0].src = this.playRecord.url;\n        this.currentInfo.playTime = this.playRecord.timeLength;\n        this.playerOptions.autoplay=true;\n        for(let i=0;i<this.courseList.length;i++){\n          if(this.playRecord.listName === this.courseList[i].listName){\n            this.active = i;\n            this.currentInfo.listId = this.courseList[i].listId;\n          }\n        }\n        this.playRecord = null;\n      },\n      closeJump(){\n        this.playRecord = null;\n      },\n      getStudyRecord(courseId){\n        this.$userApi.getPlayRecord(courseId).then(res=>{\n          this.playRecord = res.data;\n          let that = this;\n          setTimeout(function(){that.playRecord=null},10000);\n        });\n      },\n      //加入课程\n      joinCourse(){\n        let data = {\n          userId:this.$store.state.userInfo.userId,\n          courseId:this.currentInfo.courseId,\n          deleteState:false\n        }\n        this.$userApi.addUserCourse(data).then(res=>{\n          this.$message.success(res.message);\n        });\n      },\n    },\n    mounted() {\n      //页面直接关闭时，保存播放进度\n      window.onbeforeunload = ()=>{\n        if(this.$store.state.userInfo!=null && this.recordFlag && this.currentInfo.playTime!=0){\n          this.currentInfo.userId = this.$store.state.userInfo.userId;\n          this.$userApi.addPlayRecord(this.currentInfo);\n        }\n      };\n    },\n    created(){\n      this.currentInfo.courseId = this.$route.query.id;\n      this.reqInfo(this.currentInfo.courseId);\n      if(this.$store.state.vipInfo!=null && this.$store.state.vipInfo.isVip!=null){\n        this.isVip = this.$store.state.vipInfo.isVip;\n      }\n      this.randomCourse(3);\n      if(this.$cookie.getToken()){\n        this.getStudyRecord(this.currentInfo.courseId);\n        let that = this;\n        setTimeout(function(){that.recordFlag=true},5000);\n      }\n    },\n    beforeDestroy() {\n      //vue组件取消时，保存播放进度\n      if(this.$store.state.userInfo!=null && this.recordFlag && this.currentInfo.playTime!=0){\n        this.currentInfo.userId = this.$store.state.userInfo.userId;\n        this.$userApi.addPlayRecord(this.currentInfo);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .course-detail{\n    width: 100%;\n    background-color: #F9F9F9;\n  }\n\n  .course-container{\n    min-height: 80vh;\n    width: 70%;\n    margin: 0 auto 60px;\n    min-width: 1200px;\n    background-color: #F9F9F9;\n  }\n\n  .course-player{\n    height: 545px;\n    width: 100%;\n    margin: 30px auto;\n    display: grid;\n    grid-template-columns: 2fr 1fr;\n    background-color: #fff;\n\n\n    box-shadow:0 2px 4px 0 #ededed;\n  }\n\n  .course-list .header{\n    border-bottom: 1px solid #eee;\n    text-align: left;\n    padding: 17px 32px 0;\n  }\n\n  .course-list .title{\n    height: auto;\n    margin: 0;\n    overflow: hidden;\n    font-size: 20px;\n    font-weight: 500;\n    color: #333333;\n    text-overflow: ellipsis;\n    word-wrap: break-word;\n    white-space: normal;\n  }\n\n  .course-list .desc{\n    margin: 7px auto 16px;\n    color: #666666;\n    font-size: 14px;\n  }\n\n  .list-menu{\n    margin: 0;\n    padding: 0;\n    height: 408px;\n    overflow: auto;\n    text-align: left;\n    list-style: none;\n  }\n\n  .list-menu::-webkit-scrollbar {/*滚动条整体样式*/\n    width: 10px;     /*高宽分别对应横竖滚动条的尺寸*/\n    height: 1px;\n  }\n\n  .list-menu::-webkit-scrollbar-thumb {/*滚动条里面小方块*/\n    border-radius: 10px;\n    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);\n    background: #535353;\n  }\n\n  .list-menu::-webkit-scrollbar-track {/*滚动条里面轨道*/\n    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);\n    border-radius: 10px;\n    background: #EDEDED;\n  }\n\n  .list-menu>li{\n    position:relative;\n    height: 66px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    color: #666666;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    border-bottom: 1px solid #eee;\n  }\n\n  .list-menu>li:hover{\n    color: #0088f0!important;\n  }\n\n  .is-active{\n    color: #0088f0!important;\n  }\n\n  .list-menu .play-icon{\n    position: absolute;\n    font-size: 30px;\n    color: #bfbfbf;\n    top: 20px;\n    left: 24px;\n  }\n\n  .list-menu .list-name{\n    position: absolute;\n    font-size: 16px;\n    left: 72px;\n    top: 13px;\n  }\n\n\n  .list-menu .time{\n    position: absolute;\n    font-size: 13px;\n    left: 72px;\n    top: 41px;\n  }\n\n  .list-menu .lock{\n    position: absolute;\n    font-size: 17px;\n    right: 18px;\n    top: 33px;\n    color: #666666;\n  }\n\n  .course-operate{\n    width: 100%;\n    margin-top: 5px;\n  }\n\n  .course-operate .el-button{\n    width: 225px;\n  }\n\n  .course-box{\n    margin: 0 auto;\n    width: 100%;\n    display: grid;\n    grid-template-columns: 1fr 375px;\n    grid-column-gap: 30px;\n    background-color: #F9F9F9;\n  }\n\n  .course-box .course-info{\n    padding: 20px 30px;\n    text-align: left;\n    background-color: #F2F4FA;\n  }\n\n  .course-box .course-info .title{\n    font-size: 24px;\n    font-weight: 500;\n    margin: 10px 0 12px;\n    position: relative;\n    display: inline-block;\n  }\n\n  .course-box .course-info .title:after{\n    width: 100%;\n    height: 8px;\n    border-radius: 2px;\n    position: absolute;\n    left: 0;\n    content: '';\n    background-color: rgba(0, 136, 240, 0.1);\n    bottom: 3px;\n  }\n\n\n  .course-box .course-info  .desc{\n    margin: 0 0 12px 0;\n    font-size: 16px;\n    color: #00000099;\n    line-height: 26px;\n  }\n\n  .teacher-data{\n    width: 400px;\n    height: 230px;\n    border-radius: 12px;\n    box-shadow: 0 4px 9px 0 rgba(13,67,108,0.1);\n    background-color: #ffffff;\n    overflow: hidden;\n  }\n\n  .teacher-data .header{\n    width: 100%;\n    position: relative;\n    height: 64px;\n    background-image: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);\n  }\n\n  .teacher-data .avatar{\n    position: absolute;\n    top: 14px;\n    left: 18px;\n  }\n\n  .teacher-data .teacher-name{\n    position: absolute;\n    top: 21px;\n    left: 70px;\n    font-size: 18px;\n  }\n\n  .teacher-data .content{\n    height: 165px;\n    font-size: 16px;\n    color: #2632388A;\n    padding: 24px;\n    line-height: 26px;\n  }\n\n  .course-box .recommend{\n    height: 350px;\n    background-color: #FFFFFF;\n  }\n\n  .recommend .title{\n    font-size: 18px;\n    color: #333333;\n    text-align: left;\n    padding: 3px 32px;\n    height: 52px;\n    line-height: 52px;\n    border-bottom: 1px solid #E4E7ED;\n  }\n\n  .recommend .content{\n    padding: 0 32px;\n    list-style: none;\n  }\n\n  .recommend .content>li{\n    position: relative;\n    height: 70px;\n    cursor: pointer;\n    margin-bottom: 20px;\n  }\n\n  .recommend .content>li:hover{\n    color: #0088f0!important;\n  }\n\n  .recommend .content .el-image{\n    position: absolute;\n    top: 2px;\n    left: 0;\n    width: 120px;\n    height: 66px;\n    border-radius: 6px;\n  }\n\n  .recommend .content .course-name{\n    position: absolute;\n    margin: 0;\n    left: 130px;\n    top: 8px;\n    width: 180px;\n    overflow: hidden;\n    text-align: justify;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 14px;\n  }\n\n  .recommend .content .time{\n    font-size: 12px;\n    position: absolute;\n    margin: 0;\n    color: rgba(38, 50, 56, 0.54);\n    left: 130px;\n    top: 43px;\n  }\n\n  .course-player .locked{\n    width: 100%;\n    height: 100%;\n    padding-top: 175px;\n    padding-bottom: 50px;\n    box-sizing: border-box;\n    background: #000000;\n    background-size: 100% 100%;\n  }\n\n  .course-player .locked h2{\n    font-size: 18px;\n    font-weight: 500;\n    color: #D1AF88;\n    position: relative;\n    user-select: none;\n    height: 100px;\n  }\n\n  .course-player .locked .el-button{\n    width: 180px;\n    margin-top: 15px;\n  }\n\n  .player-container{\n    position: relative;\n  }\n\n  .player-container .jump-play{\n    position: absolute;\n    bottom: 50px;\n    font-size: 14px;\n    background: #343434;\n    height: 45px;\n    line-height: 45px;\n    color: #FFF;\n    border-radius: 5px;\n  }\n</style>\n\n\n<style>\n.video-js{\n  height: 100% !important;\n}\n\n.video-js .vjs-tech{\n  object-fit:fill;\n  width: 100.08%;\n}\n\n.video-js .vjs-big-play-button{\n  position: absolute;\n  left: 50%!important;\n  top: 50%!important;\n  transform: translate(-50%,-50%);\n  -webkit-transform: translate(-50%,-50%);\n  -ms-transform: translate(-50%,-50%);\n}\n\n.el-tabs__item{\n  font-size: 18px;\n  color: #263238DE!important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/main/CourseDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"course-detail\"},[_c('div',{staticClass:\"course-container\"},[_c('div',{staticClass:\"course-player\"},[(_vm.course!=null)?_c('div',{staticClass:\"player-container\"},[(_vm.locked)?_c('div',{staticClass:\"locked\"},[_c('h2',[_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\",\"position\":\"absolute\",\"left\":\"240px\"},attrs:{\"src\":_vm.logoImg}}),_vm._v(\" \"),_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"50px\",\"left\":\"350px\"}},[_vm._v(\"开通VIP，即可解锁全部章节\")])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.openVip}},[_vm._v(\"VIP免费看\")])],1):_c('video-player',{ref:\"videoPlayer\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"playsinline\":true,\"options\":_vm.playerOptions},on:{\"ready\":_vm.playerReadied,\"ended\":function($event){return _vm.onPlayerEnded($event)},\"timeupdate\":function($event){return _vm.onPlayerTimeupdate($event)}}},[_vm._v(\"\\n          您的浏览器不支持视频播放。\\n        \")]),_vm._v(\" \"),(_vm.playRecord!=null)?_c('div',{staticClass:\"jump-play\"},[_c('el-button',{staticStyle:{\"font-size\":\"20px\",\"margin\":\"-2px 0 0 12px\",\"vertical-align\":\"middle\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-close\"},on:{\"click\":_vm.closeJump}}),_vm._v(\" \"),_c('span',[_vm._v(\"上次看到 \"+_vm._s(_vm.playRecord.listName))]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin\":\"0 14px\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.autoPlay}},[_vm._v(\"跳转播放\")])],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"course-list\"},[_c('div',{staticClass:\"header\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.course.courseName))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_c('span',[_vm._v(\"共\"+_vm._s(_vm.courseList.length)+\"节\")]),_vm._v(\" \"),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"时长\"+_vm._s(_vm._f(\"changeHourMin\")(_vm.course.courseTime)))]),_vm._v(\" \"),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_vm._v(\" \"),(_vm.course.vipState)?_c('span',[_vm._v(\"VIP课程\")]):_c('span',[_vm._v(\"免费课程\")])],1)]),_vm._v(\" \"),_c('ul',{staticClass:\"list-menu\"},_vm._l((_vm.courseList),function(item,index){return _c('li',{key:index,class:[_vm.active === index ? 'is-active':''],on:{\"click\":function($event){return _vm.playCourse(item,index)}}},[_c('i',{staticClass:\"el-icon-video-play play-icon\"}),_vm._v(\" \"),_c('span',{staticClass:\"list-name\"},[_vm._v(_vm._s(item.listName))]),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(\"时长 \"+_vm._s(_vm._f(\"timeFormate\")(item.timeMinute))+\":\"+_vm._s(_vm._f(\"timeFormate\")(item.timeSecond)))]),_vm._v(\" \"),(item.lockState && !_vm.isVip)?_c('i',{staticClass:\"el-icon-lock lock\"}):_vm._e()])}),0),_vm._v(\" \"),(this.$store.state.userInfo && this.$store.state.userInfo.userId)?_c('div',{staticClass:\"course-operate\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.joinCourse}},[_vm._v(\"加入课程\")])],1):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"course-box\"},[_c('div',{staticClass:\"course-info\"},[_c('el-tabs',{attrs:{\"value\":\"first\"}},[_c('el-tab-pane',{attrs:{\"label\":\"课程简述\",\"name\":\"first\"}},[_c('p',{staticClass:\"title\"},[_vm._v(\"课程简介\")]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.course.description))]),_vm._v(\" \"),_c('p',{staticClass:\"title\"},[_vm._v(\"讲师介绍\")]),_vm._v(\" \"),_c('div',{staticClass:\"teacher-data\"},[_c('div',{staticClass:\"header\"},[_c('el-avatar',{staticClass:\"avatar\",attrs:{\"size\":40,\"src\":_vm.teacher.avatarUrl}}),_vm._v(\" \"),_c('span',{staticClass:\"teacher-name\"},[_vm._v(_vm._s(_vm.teacher.teacherName))])],1),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.teacher.description))])])])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"recommend\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"为你推荐\\n          \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-top\":\"5px\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.refresh}},[_vm._v(\"换一批\")])],1),_vm._v(\" \"),_c('ul',{staticClass:\"content\"},_vm._l((_vm.recommendCourse),function(course,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.watch(course)}}},[_c('el-image',{attrs:{\"src\":course.coverUrl}}),_vm._v(\" \"),_c('p',{staticClass:\"course-name\"},[_vm._v(_vm._s(course.courseName))]),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"changeHourMin\")(course.courseTime)))])],1)}),0)])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1995df1a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/main/CourseDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1995df1a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CourseDetail.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1995df1a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./CourseDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CourseDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CourseDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1995df1a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CourseDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1995df1a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/main/CourseDetail.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/nurse.64065ac.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/global/nurse.png\n// module id = ZftD\n// module chunks = 10"],"sourceRoot":""}